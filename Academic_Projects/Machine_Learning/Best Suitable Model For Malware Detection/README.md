# Machine Learning Models For Static Malware Analysis.


## AIM: To find the best machine learning algorithms while using machine learning life cycle and using CRISP-DM methodologies.

### OBJECTIVE:
For malware detection, it is stated that machine learning models like logistic Regression, Decision Tree and random forest are the best suitable models. To find the best accuracy and recall on the machine learning algorithms.

**INFORMATION:** 

we have found the machine learning model for malware detection using machine learning life cycle which will help the organization to detect the data breach before it happens. The machine learning and deep learning can allow malware detection to discard its present clumsy blacklist policy and also help find out nearing threats with confidence. If the information on a hacking pattern or degree of detection in the future was predicted in advance to a computer user, similar to a weather forecast, it would help to make ready for and manage or survive with a cyber threat. Presently, there exist technologies Machine learning algorithms such as Decision Tree (DT), K-Nearest Neighbor (KNN), Naïve Bayes (NB), and Support Vector Machine (SVM) are commonly used in malware detection. The traditional machine learning algorithms have potentially learnt the behaviour features from the malware. For the research we are finding machine learning algorithms’ performance depends on the accuracy of the extracted features. Also, it is often difficult to extract meaningful behaviour features for improving malware detection performance So for that, we have used dimensionality reduction. Moreover, feature processing requires expertise and methodologies. The methodology is not dependent on any technology. Rather, a methodology brings a structure to accumulate outcomes by employing an extensive collection of methods, processes, and heuristics.CRISP-DM was carefully selected, being most widespread method. Also, the combination with commercial products was determined.

**IMPLEMENTATION:**

we used CRISP-DM methodology. As it contains 6 phase which are suitable for data science and data mining project. We also followed machine learning life cycle which helped us to create this research understandable. We implemented this file in python and as well as in RapidMiner. For python , Anaconda Jupiter notebook(6.0.1) was used for code implementation and for RapidMiner, RapidMiner Studio (9.6.0) was used.

*BUSINESS UNDERSTANDING*: This was one of the most essential phase of the data science or data mining project for initial understanding . As this phase involved various key steps like Determining the business objective, assessing the situation as well as plan or producing the project.
Business Objective:

   ➢ To ascertain the most accurate Machine learning algorithm technique with the utilization of the selected data set.
  
 *DATA UNDERSTANDING:* This phase began with preliminary data collection to find out the earliest insights from the data, to uncover quality problems, or to identify the subsets to form hypothesis about hidden information.
  1) For the research, we took dataset from “ieeedataport.org” which was actually used for malware detection using machine learning and deep learning concepts. The dataset contained 47580 observations and 1002 features. Dataset contained the static analysis data which was extracted cuckoo sandbox report. The “malware” file were downloaded from virushare.com and “good- ware” were downloaded from portableapps.com.
  2) Used head() and describe() methods to find properties like the count of the rows and columns, name of the attributes , mean, median, maximum, and minimum value and standard deviation for each feature. With some initial correlation among the variables also performed exploratory data analysis (EDA) in this step. 
  
 *DATA PREPARATION:* This phase included all the processes needed to build the final data set or the data which was fetched into the modeling tools from the untouched or raw data. Steps which were done in research are as below:
 
   ➢ Initial stage: Converted all the features into standard scaler and checked the null values.

   ➢ Second Stage: Checked the Correlation between the target variable and the independent variable. Found that “cexit” was strongly correlated the malware which was our target variable.

   ➢ Third Stage: Dataset contained 1002 features. Which was actually to many features and as per our business requirement we did not require some features. Hence we used dimension reduction technique principal component analysis (PCA).
  
   ➢ Fourth Stage : After feature selection using PCA , the data was split into train and test set by using Train_Test_split.
  
   ➢ Fifth Stage: As the target variable was unbalanced, used SMOTE function to balance the data.
  
 *DATA MODELING:*  Numerous modeling techniques were considered and implemented along with the calculation of their parameters in order generate optimal values during this phase.In this phase, As the objective stated that we had to find the best suitable model for malware detection so, we could choose from multiple models like **Decision Tree classifier, random forest classifier, KNN classifier, logistic regression, SVM etc.** and find the accuracy, precision, f1-score and recall, and confusion matrix of each and every model.
 
 *EVALUATION:* It has been crucial to thoroughly evaluate the model and review the construction of the model before going for final deployment. It was crucial to understand some important business issues are satisfied at this point of time.
In this phase as many models have been implemented and have been evaluated on the **basis of accuracy. Also have calculated F1-score, precision, recall and confusion matrix. Also have done cross validation and hyper parameter tuning to enhance the performance of the models to find the best accuracy.**

For this research, we also used **RapidMiner Application**. RapidMiner, A data science software platform developed by the company of the same name that provides an integrated environment for data preparation, machine learning, deep learning, text mining, and predictive analytics. It is used for business and commercial applications as well as for research, education, training, rapid prototyping, and application development and supports all steps of the machine learning process including data preparation, results visualization, model validation and optimization.
The chosen method was auto-model. Auto Model was an extension to RapidMiner Studio that accelerates the process of building and validating models.

**RESULT:**

Python and RapidMiner both gave the best models with 97% of accuracy. It can also be stated that decision tree, neural network and random forest, K-Nearest Neighbor are models which give better performance for malware detection. 

To sum the research,**K Nearest Neighbor, Decision tree, neural networks and random forest were the most suitable model for malware detection. The results were checked on the basis of accuracy and recall.** The statistical analysis on every model was also done and checked and also the analysis stated that CRISP-DM methodology was best suitable for the research.




